$(window).on("load",function(){var n=d3.select("#streamgraph"),t=20,a=20,r=30,e=50,o=n.node().getBoundingClientRect().width-e-a,d=500-t-r,i=d3.layout.stack().offset("wiggle"),u=i(d3.range(20).map(function(){return m(200)})),c=i(d3.range(20).map(function(){return m(200)})),f=d3.scale.linear().domain([0,199]).range([0,o]),l=d3.scale.linear().domain([0,d3.max(u.concat(c),function(n){return d3.max(n,function(n){return n.y0+n.y})})]).range([d,0]),g=d3.scale.linear().range(["#99B898","#FECEA8"]),h=d3.svg.area().x(function(n){return f(n.x)}).y0(function(n){return l(n.y0)}).y1(function(n){return l(n.y0+n.y)});function m(n){function t(t){for(var a=1/(.1+Math.random()),r=2*Math.random()-.5,e=10/(.1+Math.random()),o=0;o<n;o++){var d=(o/n-r)*e;t[o]+=a*Math.exp(-d*d)}}var a,r=[];for(a=0;a<n;++a)r[a]=0;for(a=0;a<5;++a)t(r);return r.map(function(n,t){return{x:t,y:Math.max(0,n)}})}n.append("svg").attr("width",o).attr("height",d).selectAll("path").data(u).enter().append("path").attr("d",h).style("fill",function(){return g(Math.random())})});